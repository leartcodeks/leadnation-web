const navbarToggler=document.querySelector("button.nav-toggle"),navLinks=document.querySelector(".nav__links"),careerForm=document.getElementById("career-form"),contactForm=document.getElementById("contact-form");function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function toastify(e,t){Toastify({text:e,duration:5e3,close:!0,gravity:"bottom",position:"right",style:{background:t?"green":"red"}}).showToast()}async function submitContactForm(e){e.preventDefault();const t={name:escapeHtml(contactForm.name.value),email:escapeHtml(contactForm.email.value),message:escapeHtml(contactForm.message.value)},a=`${location.protocol}//${location.host}`,o=await fetch(`${a}/api/contact-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),c=await o.json();if(!c.success)return toastify(c.message,c.success);toastify(c.message,c.success),document.getElementById("contact-form").reset()}async function submitCareerForm(e){e.preventDefault();const t=escapeHtml(careerForm.firstName.value),a=escapeHtml(careerForm.lastName.value),o=escapeHtml(careerForm.email.value),c=escapeHtml(careerForm.phone.value),s=escapeHtml(careerForm.additionalInfo.value),n=careerForm.cvFile.files[0],r=new FormData;r.append("firstName",t),r.append("lastName",a),r.append("email",o),r.append("phone",c),r.append("additionalInfo",s),r.append("cvFile",n),r.forEach((e=>console.log(e)));const i=`${location.protocol}//${location.host}`,l=await fetch(`${i}/api/career-email`,{method:"POST",body:r}),m=await l.json();if(!m.success)return toastify(m.message,m.success);toastify(m.message,m.success),document.getElementById("career-form").reset()}contactForm?.addEventListener("submit",submitContactForm),careerForm?.addEventListener("submit",submitCareerForm),navbarToggler.addEventListener("click",(()=>{navLinks.classList.toggle("active")})),document.querySelectorAll("input").forEach((e=>{e.addEventListener("keyup",(()=>{e.checkValidity()?(e.classList.remove("is-invalid"),e.classList.add("is-valid")):e.classList.add("is-invalid")}))}));